<html>
<head>
<meta charset="UTF-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.0.5/fuse.min.js"></script>

<!-- EMOJIS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/0.9.5/emojify.min.js"></script>

<style>
body {font-family: sans-serif; padding-top: 4.5em;}
table {
    border-collapse: collapse;
    width: 100%;
}
th, td {
    text-align: left;
    padding: 0.2em;
}
tr:nth-child(even){background-color: #eee}
td:nth-child(1){color: #aaa}
td:nth-child(2){font-weight: 900; text-align: right; border-right: 1px solid #ccc;}
td:nth-child(3){width: 100%;}
.tooltip {
    position: relative;
    display: inline-block;
}
.tooltip .tooltiptext {
    visibility: hidden;
    width: 300%;
    background-color: #fea;
    position: absolute;
    z-index: 1;
    top: 100%;
    left: -220%;
    white-space: normal;
    padding: 0.5em;
}
.tooltip:hover .tooltiptext {
    visibility: visible;
}
#help {
	background-color: #aef;
	top: 0;
	width: 30em;
	left: -30em;
}
.highlight {
    font-weight: bold;
	background-color: #aef;
}
#highlightmsg {
	background-color: #dfa!important;
}
#user{
    width: 8em;
}
#msgnum{
    width: 5em;
}
#floatdiv {
    position: fixed;
    background: #dfa;
    margin: 0;
    padding: 0.5em;
    top: 0;
    left: 0;
    white-space: nowrap;
}
#limitreached {
    background-color: #f00;
}
.emoji {
	height: 2em;
	display: inline;
	margin: -1em 0;
}
#gittertab {
    background-color: #0a5;
	line-height: 0.8em;
	position: fixed;
	right: 0;
	top: 45%;
	font-weight: 800;
}
.gitter-chat-embed-action-bar-item-pop-out {
    margin-right: auto!important;
}
.gitter-chat-embed-action-bar-item-collapse-chat {
    width: 100%!important;
    height: 60px!important;
    background-position-x: right!important;
    background-size: 60px!important;
    padding: 10px!important;
}

</style>
</head>
<body>
<div id="floatdiv">
<span><b><a href="https://atomicgameengine.com/">Atomic</a> <a href="https://gitter.im/AtomicGameEngine/AtomicGameEngine">Gitter</a> Archive by <a href="https://twitter.com/AlanGameDev">AlanGameDev</a> </b>| Messages: 138989, Users: 346, Updated: 2017-12-25</span>
<div class="tooltip">
<span class="tooltiptext">Type a message number and press enter to go directly to it.</span>
<input placeholder="Message #" type="text" id="msgnum">
</div>
<br>
<input placeholder="Search... (press Enter)" type="text" id="filter">
<span>User:</span>
<select id="user">
<option value="All">All</option>
<option value="0xFireball">0xFireball</option>
<option value="53PH1">53PH1</option>
<option value="ANONIM-TEC">ANONIM-TEC</option>
<option value="Aikat14">Aikat14</option>
<option value="AlCaTrAzzALZ">AlCaTrAzzALZ</option>
<option value="AlHafied_twitter">AlHafied_twitter</option>
<option value="Alamantus">Alamantus</option>
<option value="Alan-FGR">Alan-FGR</option>
<option value="Anheurystics">Anheurystics</option>
<option value="ArielLilly">ArielLilly</option>
<option value="Asimov500">Asimov500</option>
<option value="AtomicBro">AtomicBro</option>
<option value="AxDSan">AxDSan</option>
<option value="Biacode">Biacode</option>
<option value="Bigmacbook">Bigmacbook</option>
<option value="Bonfi96">Bonfi96</option>
<option value="BrianRosamilia">BrianRosamilia</option>
<option value="C-Fu">C-Fu</option>
<option value="CTrauma">CTrauma</option>
<option value="CV-98">CV-98</option>
<option value="CaptainChrisPRD_twitter">CaptainChrisPRD_twitter</option>
<option value="Clockwork-Rat">Clockwork-Rat</option>
<option value="CodestarGames">CodestarGames</option>
<option value="CogentCoder_twitter">CogentCoder_twitter</option>
<option value="DGMurdockIII">DGMurdockIII</option>
<option value="DPKW">DPKW</option>
<option value="Dbuggerx">Dbuggerx</option>
<option value="DeathArrow01">DeathArrow01</option>
<option value="Dillybob92">Dillybob92</option>
<option value="Dingy-Beatz">Dingy-Beatz</option>
<option value="DuncanCragg">DuncanCragg</option>
<option value="EbiPenMan">EbiPenMan</option>
<option value="EdnGameDev">EdnGameDev</option>
<option value="FarmerJoeII">FarmerJoeII</option>
<option value="Fiishlord">Fiishlord</option>
<option value="Freizagen">Freizagen</option>
<option value="Froweey_twitter">Froweey_twitter</option>
<option value="Fujikatoma">Fujikatoma</option>
<option value="GarethNN">GarethNN</option>
<option value="GarryDvaraza">GarryDvaraza</option>
<option value="Geekuru">Geekuru</option>
<option value="GrosSacASac">GrosSacASac</option>
<option value="HeadClot">HeadClot</option>
<option value="Hevedy">Hevedy</option>
<option value="Heybye44">Heybye44</option>
<option value="Husain136">Husain136</option>
<option value="ISylvox">ISylvox</option>
<option value="ImADolphin8">ImADolphin8</option>
<option value="Infernious">Infernious</option>
<option value="IsaiahRaspet">IsaiahRaspet</option>
<option value="Jacktheking">Jacktheking</option>
<option value="JimMarlowe">JimMarlowe</option>
<option value="JimSEOW">JimSEOW</option>
<option value="JohnnyWahib">JohnnyWahib</option>
<option value="Jolltz">Jolltz</option>
<option value="JoshEngebretson">JoshEngebretson</option>
<option value="Joshhua5">Joshhua5</option>
<option value="Julianobsg">Julianobsg</option>
<option value="JumpWu">JumpWu</option>
<option value="JustDevs">JustDevs</option>
<option value="Kenji245">Kenji245</option>
<option value="Keziolio">Keziolio</option>
<option value="Kobusvdwalt9_twitter">Kobusvdwalt9_twitter</option>
<option value="LaBlazer">LaBlazer</option>
<option value="LaraEngebretson">LaraEngebretson</option>
<option value="Lumak">Lumak</option>
<option value="MJ-meo-dmt">MJ-meo-dmt</option>
<option value="MJBrune_twitter">MJBrune_twitter</option>
<option value="Magindra">Magindra</option>
<option value="Mangafreak1995_twitter">Mangafreak1995_twitter</option>
<option value="Mathon_Michael_twitter">Mathon_Michael_twitter</option>
<option value="MitchCarroll">MitchCarroll</option>
<option value="Murii">Murii</option>
<option value="MynorCifuentes">MynorCifuentes</option>
<option value="Noogah">Noogah</option>
<option value="NovaSurfer">NovaSurfer</option>
<option value="Nyt0x_twitter">Nyt0x_twitter</option>
<option value="OmaGash">OmaGash</option>
<option value="Orkuncakilkaya">Orkuncakilkaya</option>
<option value="OvermindDL1">OvermindDL1</option>
<option value="Pawbyte_twitter">Pawbyte_twitter</option>
<option value="PeaceSells50">PeaceSells50</option>
<option value="PetruGabriel_twitter">PetruGabriel_twitter</option>
<option value="Phacanu">Phacanu</option>
<option value="Phrohdoh">Phrohdoh</option>
<option value="PierBover">PierBover</option>
<option value="PlatinumCTNelson">PlatinumCTNelson</option>
<option value="PowerCreek">PowerCreek</option>
<option value="Protecdor_twitter">Protecdor_twitter</option>
<option value="Raj2032">Raj2032</option>
<option value="RealAquilus">RealAquilus</option>
<option value="Renican">Renican</option>
<option value="RenkenDz">RenkenDz</option>
<option value="Rusmal18">Rusmal18</option>
<option value="SLGamesStudio_twitter">SLGamesStudio_twitter</option>
<option value="ScotFlux">ScotFlux</option>
<option value="ServerCharlie_twitter">ServerCharlie_twitter</option>
<option value="Sessp5_twitter">Sessp5_twitter</option>
<option value="SgtFlame">SgtFlame</option>
<option value="ShalokShalom">ShalokShalom</option>
<option value="ShionAt">ShionAt</option>
<option value="SiliconVall3y">SiliconVall3y</option>
<option value="Sleaker">Sleaker</option>
<option value="SoumenDas">SoumenDas</option>
<option value="Syrou">Syrou</option>
<option value="Tarik-B">Tarik-B</option>
<option value="TheSuspiciousWombat">TheSuspiciousWombat</option>
<option value="ThomasVansteenkiste">ThomasVansteenkiste</option>
<option value="TiZ-EX1">TiZ-EX1</option>
<option value="Timurid">Timurid</option>
<option value="Tom-III">Tom-III</option>
<option value="TortDoll">TortDoll</option>
<option value="Type1J">Type1J</option>
<option value="Virludus">Virludus</option>
<option value="Wharsh">Wharsh</option>
<option value="Wobling">Wobling</option>
<option value="WonderWanderer">WonderWanderer</option>
<option value="XyberICE">XyberICE</option>
<option value="Y-way">Y-way</option>
<option value="Yaha">Yaha</option>
<option value="Yampik">Yampik</option>
<option value="ZatunTester_twitter">ZatunTester_twitter</option>
<option value="Zordaan">Zordaan</option>
<option value="Zuldra">Zuldra</option>
<option value="_antoniocg_twitter">_antoniocg_twitter</option>
<option value="adebgamesoft">adebgamesoft</option>
<option value="agusarg">agusarg</option>
<option value="aliasc">aliasc</option>
<option value="anteodt5">anteodt5</option>
<option value="antonyjones67">antonyjones67</option>
<option value="apalm1341">apalm1341</option>
<option value="attilaz">attilaz</option>
<option value="aussiemale23">aussiemale23</option>
<option value="balmacefa">balmacefa</option>
<option value="benbeshara">benbeshara</option>
<option value="benwolf">benwolf</option>
<option value="berkayno2011_twitter">berkayno2011_twitter</option>
<option value="berserk82">berserk82</option>
<option value="bibleuspro_twitter">bibleuspro_twitter</option>
<option value="binary132">binary132</option>
<option value="bite40297429_twitter">bite40297429_twitter</option>
<option value="bitonator">bitonator</option>
<option value="bkaradzic">bkaradzic</option>
<option value="bleedingpixels">bleedingpixels</option>
<option value="boberfly">boberfly</option>
<option value="boccia_nico_twitter">boccia_nico_twitter</option>
<option value="boduzapho">boduzapho</option>
<option value="bostich83">bostich83</option>
<option value="br3eze">br3eze</option>
<option value="brandonlamb">brandonlamb</option>
<option value="brianewing">brianewing</option>
<option value="brokenshakles">brokenshakles</option>
<option value="brunosxs">brunosxs</option>
<option value="c4n4r">c4n4r</option>
<option value="cadaver">cadaver</option>
<option value="cbaal83">cbaal83</option>
<option value="chanon">chanon</option>
<option value="chaosbreak">chaosbreak</option>
<option value="chengtsew313">chengtsew313</option>
<option value="christoffer_sch_twitter">christoffer_sch_twitter</option>
<option value="collingreen">collingreen</option>
<option value="coolki">coolki</option>
<option value="cosmos64">cosmos64</option>
<option value="curly-brace">curly-brace</option>
<option value="cwurtz">cwurtz</option>
<option value="daffy-doomer">daffy-doomer</option>
<option value="darkfronza">darkfronza</option>
<option value="darkmatterjesu1_twitter">darkmatterjesu1_twitter</option>
<option value="darkmatterjesus">darkmatterjesus</option>
<option value="darrylryan">darrylryan</option>
<option value="darrylryan_twitter">darrylryan_twitter</option>
<option value="davinctor">davinctor</option>
<option value="ddovod">ddovod</option>
<option value="deep4U">deep4U</option>
<option value="dennisnowack">dennisnowack</option>
<option value="desiderantes">desiderantes</option>
<option value="dfletcher">dfletcher</option>
<option value="dj-hedgehog">dj-hedgehog</option>
<option value="donnyv">donnyv</option>
<option value="dorman">dorman</option>
<option value="dracc">dracc</option>
<option value="dragonCASTjosh">dragonCASTjosh</option>
<option value="dralhafid">dralhafid</option>
<option value="drarem">drarem</option>
<option value="drbaks">drbaks</option>
<option value="dthompso99">dthompso99</option>
<option value="dwaynesch">dwaynesch</option>
<option value="dwoozle">dwoozle</option>
<option value="ednux">ednux</option>
<option value="elvisxzhou">elvisxzhou</option>
<option value="emamador">emamador</option>
<option value="emersont1">emersont1</option>
<option value="empyreanx">empyreanx</option>
<option value="endel">endel</option>
<option value="ericfoxx">ericfoxx</option>
<option value="esakylli">esakylli</option>
<option value="eugenegous">eugenegous</option>
<option value="eugeneko">eugeneko</option>
<option value="evanbooth_twitter">evanbooth_twitter</option>
<option value="eye776">eye776</option>
<option value="faahiero">faahiero</option>
<option value="fdedraco">fdedraco</option>
<option value="filharvey">filharvey</option>
<option value="fohara">fohara</option>
<option value="friesencr">friesencr</option>
<option value="ganusajjan">ganusajjan</option>
<option value="geeknologygt_twitter">geeknologygt_twitter</option>
<option value="ggspringer">ggspringer</option>
<option value="gokr">gokr</option>
<option value="gpugems">gpugems</option>
<option value="grumblie_twitter">grumblie_twitter</option>
<option value="grumblygibson">grumblygibson</option>
<option value="guoguoguojunjunjun">guoguoguojunjunjun</option>
<option value="guzzard">guzzard</option>
<option value="harrycode">harrycode</option>
<option value="herculesdev">herculesdev</option>
<option value="hilmardietrich">hilmardietrich</option>
<option value="intoxopox">intoxopox</option>
<option value="ip">ip</option>
<option value="iresetagain21_twitter">iresetagain21_twitter</option>
<option value="j0n31">j0n31</option>
<option value="jacob-cross99">jacob-cross99</option>
<option value="james0x0A">james0x0A</option>
<option value="jamesmintram">jamesmintram</option>
<option value="jason-allen-oneal">jason-allen-oneal</option>
<option value="jazzay">jazzay</option>
<option value="jeankvd">jeankvd</option>
<option value="jenniferjenna">jenniferjenna</option>
<option value="joeld42">joeld42</option>
<option value="johndevsvensson">johndevsvensson</option>
<option value="johngirvin">johngirvin</option>
<option value="jonglae">jonglae</option>
<option value="joorjoor">joorjoor</option>
<option value="juliangabririgotti">juliangabririgotti</option>
<option value="keithjohnston">keithjohnston</option>
<option value="kenculate">kenculate</option>
<option value="kestrelm">kestrelm</option>
<option value="kinukin">kinukin</option>
<option value="klaussilveira">klaussilveira</option>
<option value="kungfooman">kungfooman</option>
<option value="kurikaesu">kurikaesu</option>
<option value="kyles-repository">kyles-repository</option>
<option value="lKingShadow">lKingShadow</option>
<option value="larscwallin">larscwallin</option>
<option value="lewislepton">lewislepton</option>
<option value="linuxtopia">linuxtopia</option>
<option value="linzon">linzon</option>
<option value="lolsona">lolsona</option>
<option value="louis-mclaughlin">louis-mclaughlin</option>
<option value="luigipacheco">luigipacheco</option>
<option value="lunarraid">lunarraid</option>
<option value="madsystem">madsystem</option>
<option value="martinell">martinell</option>
<option value="marynate">marynate</option>
<option value="mattbenic">mattbenic</option>
<option value="mentos1386">mentos1386</option>
<option value="mertreis">mertreis</option>
<option value="mhfreund">mhfreund</option>
<option value="migueldeicaza">migueldeicaza</option>
<option value="moshishanliu">moshishanliu</option>
<option value="mrkenju">mrkenju</option>
<option value="mrpompodopolos">mrpompodopolos</option>
<option value="muafakul">muafakul</option>
<option value="naderalipour">naderalipour</option>
<option value="naive231">naive231</option>
<option value="nefD">nefD</option>
<option value="nem0">nem0</option>
<option value="neobine_twitter">neobine_twitter</option>
<option value="nepp2">nepp2</option>
<option value="nilspin">nilspin</option>
<option value="nuriu">nuriu</option>
<option value="okb1100">okb1100</option>
<option value="petia-davidova">petia-davidova</option>
<option value="pgermishuys">pgermishuys</option>
<option value="pilwon">pilwon</option>
<option value="ppugend">ppugend</option>
<option value="primeMover2011">primeMover2011</option>
<option value="radicaled">radicaled</option>
<option value="raheelx">raheelx</option>
<option value="raizam">raizam</option>
<option value="relhtml">relhtml</option>
<option value="relyes">relyes</option>
<option value="ricab">ricab</option>
<option value="rokups">rokups</option>
<option value="rosshadden">rosshadden</option>
<option value="rovied">rovied</option>
<option value="rozgamingjena_twitter">rozgamingjena_twitter</option>
<option value="rsredsq">rsredsq</option>
<option value="rubit0">rubit0</option>
<option value="sampad1370">sampad1370</option>
<option value="sandu2d">sandu2d</option>
<option value="saucyfai">saucyfai</option>
<option value="saurabhgupta2u">saurabhgupta2u</option>
<option value="sebas77">sebas77</option>
<option value="sekkit">sekkit</option>
<option value="setarehpanahi">setarehpanahi</option>
<option value="shaddockh">shaddockh</option>
<option value="sheppepharis_twitter">sheppepharis_twitter</option>
<option value="sim-ple">sim-ple</option>
<option value="simonides">simonides</option>
<option value="singam96">singam96</option>
<option value="soundyogi">soundyogi</option>
<option value="spacepluk">spacepluk</option>
<option value="sruloart">sruloart</option>
<option value="standtall007">standtall007</option>
<option value="stjohnd777">stjohnd777</option>
<option value="suncaller">suncaller</option>
<option value="sunny_morgan_twitter">sunny_morgan_twitter</option>
<option value="superjudge">superjudge</option>
<option value="takhimi">takhimi</option>
<option value="talves">talves</option>
<option value="tarekkarray">tarekkarray</option>
<option value="tdpsk">tdpsk</option>
<option value="techtide">techtide</option>
<option value="tele1">tele1</option>
<option value="thaaks">thaaks</option>
<option value="tobiasbp">tobiasbp</option>
<option value="toddgibson">toddgibson</option>
<option value="tomcis147_twitter">tomcis147_twitter</option>
<option value="tonimichel-hdm">tonimichel-hdm</option>
<option value="torinr">torinr</option>
<option value="torugok_twitter">torugok_twitter</option>
<option value="triptych">triptych</option>
<option value="troll-kadabra">troll-kadabra</option>
<option value="umutozdemir97">umutozdemir97</option>
<option value="v4l3r10">v4l3r10</option>
<option value="valamorgon">valamorgon</option>
<option value="vegarringdal">vegarringdal</option>
<option value="victorbstan">victorbstan</option>
<option value="wageeshagunasena">wageeshagunasena</option>
<option value="webnetweaver">webnetweaver</option>
<option value="webworkio">webworkio</option>
<option value="weinandvv">weinandvv</option>
<option value="wellnoidea">wellnoidea</option>
<option value="willstdueswissen">willstdueswissen</option>
<option value="xcgasparxc">xcgasparxc</option>
<option value="xenburn">xenburn</option>
<option value="yakovchuck">yakovchuck</option>
<option value="yaskhan">yaskhan</option>
<option value="youssef02">youssef02</option>
<option value="zacharycarter">zacharycarter</option>
<option value="zelon88">zelon88</option>
<option value="zenithght">zenithght</option>
<option value="zetashift">zetashift</option>
<option value="zspeedsonic_twitter">zspeedsonic_twitter</option>

</select>
<!-- <input id="autosearch" type="checkbox">Automatic (or press Enter)</input> -->
<span>Results:</span>
<div class="tooltip">
<span class="tooltiptext">If search is NOT fuzzy and you select 100 results, it searches as you type. This value sets to a minimum of 1000 if fuzzy search is on.</span>
<select id="quantity">
	<option value="100">100</option>
	<option value="500">500</option>
	<option value="1000">1000</option>
	<option value="2000">2000</option>
	<option value="5000">5000</option>
	<option value="10000">10000</option>
</select>
</div>
<input id="fuzzy" type="checkbox">Fuzzy search (needs beefy machine)</input>
<div class="tooltip">
<span id="help" class="tooltiptext">

<h3>Welcome to the Atomic Logs!</h3>
Feel free to <a href="https://gitter.im/AtomicGameEngine/AtomicGameEngine">join the chat</a>.<br>

<h3>About</h3>
This web page displays an easily searchable log archive for the Atomic Game Engine Gitter.<br>
Chat logs are archived using <a href="https://github.com/Alan-FGR/GitterLogger">this tool, </a>
and the output is parsed and this page is generated using <a href="https://github.com/Alan-FGR/AtomicGitterLog">this tool</a>.<br>

<h3>Having problems?</h3>
<a href="https://github.com/Alan-FGR/AtomicGitterLog/issues/new">Click here to open an issue on GitHub</a> or 
<a href="https://gitter.im/AtomicGameEngine/AtomicGameEngine">join us on Gitter</a>.<br>

<h3>Dev Links</h3>
<a href="https://github.com/Alan-FGR/GitterLogger">https://github.com/Alan-FGR/GitterLogger</a><br>
<a href="https://github.com/Alan-FGR/AtomicGitterLog">https://github.com/Alan-FGR/AtomicGitterLog</a><br>

<h3>Licenses</h3>
<a href="https://github.com/emojione/emojify.js/blob/master/LICENSE-IMAGES.md">Emoji Images License</a><br>
<a href="https://github.com/emojione/emojify.js/blob/master/LICENSE.md">Emojify License</a><br>

</span>
<b>INFO</b>
</div>
<br>
<span id="limitreached" style="display: none;">DISPLAY LIMIT REACHED! SOME RESULTS WILL NOT BE DISPLAYED!</span>
</div>
<table id="results"><tr><td><br><span id="loading">Downloading ~4.84MiB of data... (may take some seconds on slow connections)</span></td></tr></table>
<button id="gittertab" class="js-gitter-toggle-chat-button" onclick="loadGitter()"><<br><br>G<br>I<br>T<br>T<br>E<br>R<br><br>C<br>H<br>A<br>T<br><br><</button>
</body>
<script>
var fuse, json;
var searched = false;
var showlimit = false;

$(function() {
    $.getJSON("log.json", function (data) {
		json = data;
		
		$.when($("#loading").append("<b> [DONE!]</b><br><br>Parsing data and building search cache... (may take some seconds on slow processors)"))
		.then(function() {		
			for (i = 0; i < json.length; i++) {
				json[i].mid = json.length-1-i;
				json[i].txt = $("<div/>").html(json[i].html).text();//TODO see if there's something more efficient
			};
			
			$("#loading").remove();
			
			$(window).on('hashchange',function(){ 
				onInitCH(false);
			});
			onInitCH(true);
		});
		
	});
});

$(window).on("load",function () {
	emojify.setConfig({
		img_dir: 'images/emoji',
		tag_type:'ej',
	});
});

function onInitCH(init){
	var urlmsg = document.URL.split("#")[1];
	if (!urlmsg || urlmsg === undefined){
		if(!searched && init) populateLasts();
	}
	else{
		goToMessage(urlmsg);
	}
}

$('#filter').keyup(function(e) {
	if(!$("#fuzzy").is(':checked') && $('#quantity').val() < 200) return updateInput(); //if we want few results and isn't fuzzy, autosearch
	if(e.which != 13 && !$("#autosearch").is(':checked')) return;
	updateInput();
});

$('#quantity').change(function(e) {
	updateInput();
});

$('#user').change(function(e) {
	updateInput();
});

var msghl = -1;
$('#msgnum').keyup(function(e) {
	if(e.which != 13) return;
	goToMessage($('#msgnum').val());
});

function goToMessage(id){

	$('#user').val("All");

	var curMsg = json.length-1-id;
	
	var results = [];
	var rStart = Math.max(0,curMsg-48);
	var rEnd = Math.min(json.length,curMsg+49);
	for (i = rStart; i < rEnd; i++) {
		results.push(json[i]);
	}
	
	msghl = id;
	populateWithData(results);
}

function updateInput(){
	if(json === undefined) return;
	searched = true;
	if(!$("#filter").val()) return populateLasts();

	showlimit = true;

	if($("#fuzzy").is(':checked')){
	    if($('#quantity').val() < 1000) $('#quantity').val(1000)
		fuse = new Fuse(json, {keys: ['txt'], threshold: 0.3, minMatchCharLength: 1});
		populateWithData(fuse.search($("#filter").val()))
	}
	else{
		var matches = [];
		var keyword = $("#filter").val();
		var c=0;
		for (i = 0; i < json.length; i++) {
			if(
				json[i].txt.toLowerCase().indexOf(keyword.toLowerCase()) !== -1 //has match TODO strip html tags
				//&&(
				//$('#user').val() == "All" || json[i].user.toLowerCase() == user.toLowerCase() //user match exit TODO REFACTOR
				//)
			){
				matches.push(json[i]);
				c++;
				//if (c>$('#quantity').val())	break;
			}
		};
		populateWithData(matches);
	}

}

function populateLasts(){
	if (json){
	    showlimit = false;
		populateWithData(json);
	};
}

function populateWithData(data){
	$("#results").empty();
	$("#limitreached").toggle(false);
	var user = $('#user').val().toLowerCase();
	var max = $('#quantity').val()
	var c = 0;
	var kw = $("#filter").val();
	var scrollToHL = false;

	for (i = 0; i < data.length; i++) {
		if(user == "all" || data[i].user.toLowerCase() == user){
			var msg;
			if(kw && kw.length > 2)
				msg = data[i].html.replace(new RegExp("(" + kw + ")(?!([^<]+)?>)", 'ig'), '<span class="highlight">$1</span>');
			else
				msg = data[i].html;
		
			var resHtml = '<tr><td><a href="#'+data[i].mid+'"><small>'+data[i].date+"<br>#"+data[i].mid+"</small></a></td><td>"+data[i].user+"</td><td><ej>"+msg+"</ej></td></tr>";
			if(msghl >= 0 && data[i].mid == msghl){
				resHtml = resHtml.substr(0, 3) + ' id="highlightmsg"' + resHtml.substr(3);
				scrollToHL=true;
				msghl=-1;
			}
						
			//$("#results").append("<tr><td>"+data[i].date+"</td><td>"+data[i].user+"</td><td>"+msg+"</td></tr>");
			$("#results").prepend(resHtml);
			c++; if (c>max)	{
			    if(showlimit)
			        $("#limitreached").toggle(true);
			    break;
            };
		}
	};
	msghl = -1;
	emojify.run();
	if(scrollToHL)
		$('html,body').animate({scrollTop: $("#highlightmsg").offset().top-120},"fast");
	else
		$('html,body').animate({scrollTop: document.body.scrollHeight},"fast");
	
	
}


//GITTER STUFF BROKEN AF :( hacky uglily workarounded 
var gitterloaded = false;
var normtxt = ''
function loadGitter(){
	if (gitterloaded) return;
	gitterloaded = true;
	normtxt = $("#gittertab").html();
	$("#gittertab").html("W<br>A<br>I<br>T");
	$.getScript( 'https://sidecar.gitter.im/dist/sidecar.v1.js', function( data, textStatus, jqxhr ) {
		$("#gittertab").html(normtxt);
    } );
}

//document.addEventListener('gitter-sidecar-ready', function(e) {
//  e.detail.Chat.toggleChat(false);
//});

((window.gitter = {}).chat = {}).options = {
	room: 'AtomicGameEngine/AtomicGameEngine',
	showChatByDefault: true,
	activationElement: '#gittertab',  //TOTALLY BROKEN SHIT when line before is true: WORKAROUNDING...
};

</script>
<!-- <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script> -->
</html>
